import{d as e,h as a,c as t,a as l,y as n,g as s}from"./index-BpSucwqX.js";const d=["src"],o=l("div",null,[l("span",null,"box-shadow")],-1),i=e({__name:"index",setup(e){const i=a(),h=a(),u=a(300),r=a(0),c=e=>{const a=e.target.files[0],t=new FileReader;t.readAsDataURL(a),t.onload=()=>{i.value=t.result;const e=new Image;e.src=i.value,e.onload=()=>{r.value=Math.floor(e.height*(u.value/e.width)),g(e)}}},g=e=>{const a=document.createElement("canvas"),t=a.getContext("2d");a.width=u.value,a.height=r.value,t.drawImage(e,0,0,a.width,a.height);const l=t.getImageData(0,0,a.width,a.height);let n="",s=0,d=0;const o=l.data.length;for(let i=0;i<o;i+=4)n+=`${s}px ${d}px rgb(${l.data[i]}, ${l.data[i+1]}, ${l.data[i+2]}),`,s++,s>=a.width&&(s=0,d++);h.value.style.boxShadow=n.slice(0,n.length-1)};return(e,a)=>(s(),t("div",null,[l("div",{class:"img-box",style:n({width:u.value+"px"})},[l("img",{src:i.value,alt:""},null,8,d)],4),l("div",null,[l("input",{type:"file",name:"file",onChange:c},null,32)]),l("div",{class:"boxShadow",ref_key:"boxShadow",ref:h},null,512),o]))}});export{i as default};
