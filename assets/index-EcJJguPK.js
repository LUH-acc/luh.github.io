import{d as e,h as l,c as a,a as t,l as u,v as n,u as o,x as d,g as i}from"./index-BpSucwqX.js";const v=t("span",null,"witdh:",-1),s=t("span",null,"height:",-1),r=e({__name:"index",setup(e){const r=l(),h=l(),m=l(null),p=l(""),g=l(1),c=l(0),f=l(0),w=e=>{const l=e.target.files[0],a=new FileReader;a.readAsDataURL(l);const t=new Image;a.onload=e=>{t.src=e.target.result,p.value=e.target.result,t.onload=()=>{r.value=t.width,h.value=t.height,c.value=t.width,f.value=t.height,g.value=t.width/t.height}}},x=()=>{h.value=Math.floor(Number(r.value)/g.value)},y=()=>{r.value=Math.floor(Number(h.value)*g.value)},I=()=>{const e=document.createElement("canvas"),l=e.getContext("2d");e.width=r.value,e.height=h.value;const a=new Image;a.src=p.value,a.onload=()=>{l.drawImage(a,0,0,c.value,f.value,0,0,r.value,h.value),document.body.appendChild(e)}};return(e,l)=>(i(),a("div",null,[t("div",null,[t("input",{type:"file",name:"file",onChange:w},null,32)]),t("div",null,[t("div",null,[v,u(t("input",{type:"text","onUpdate:modelValue":l[0]||(l[0]=e=>d(r)?r.value=e:null),onInput:x},null,544),[[n,o(r)]])]),t("div",null,[s,u(t("input",{type:"text","onUpdate:modelValue":l[1]||(l[1]=e=>d(h)?h.value=e:null),onInput:y},null,544),[[n,o(h)]])]),t("div",null,[t("button",{onClick:I},"确定")]),t("div",null,[t("img",{ref_key:"imgDom",ref:m,alt:""},null,512)])])]))}});export{r as default};
