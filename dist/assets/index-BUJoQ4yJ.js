import{d as a,h as e,c as t,a as l,u as n,y as d,g as s}from"./index-D3Kdm-qn.js";const o=["src"],i=l("div",{id:"img-box"},[l("span",null,"canvas")],-1),u=l("div",null,[l("span",null,"box-shadow")],-1),h=a({__name:"index",setup(a){const h=e(),r=e(),c=e(300),g=e(0),v=a=>{const e=a.target.files[0],t=new FileReader;t.readAsDataURL(e),t.onload=()=>{h.value=t.result;const a=new Image;a.src=h.value,a.onload=()=>{g.value=Math.floor(a.height*(c.value/a.width)),m(a)}}},m=a=>{var e;const t=document.createElement("canvas"),l=t.getContext("2d");t.width=c.value,t.height=g.value,l.drawImage(a,0,0,t.width,t.height),null==(e=document.querySelector("#img-box"))||e.appendChild(t);const n=l.getImageData(0,0,t.width,t.height);let d="",s=0,o=0;const i=n.data.length;for(let u=0;u<i;u+=4)d+=`${s}px ${o}px rgb(${n.data[u]}, ${n.data[u+1]}, ${n.data[u+2]}),`,s++,s>=t.width&&(s=0,o++);r.value.style.boxShadow=d.slice(0,d.length-1)};return(a,e)=>(s(),t("div",null,[l("div",{class:"img-box",style:d({width:n(c)+"px"})},[l("img",{src:n(h),alt:""},null,8,o)],4),l("div",null,[l("input",{type:"file",name:"file",onChange:v},null,32)]),i,l("div",{class:"boxShadow",ref_key:"boxShadow",ref:r},null,512),u]))}});export{h as default};
